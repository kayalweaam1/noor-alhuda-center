# 🕌 نور الهدى - نظام إدارة مركز القرآن الكريم

## 📋 نظرة عامة

**نور الهدى** هو نظام إدارة شامل لمراكز تحفيظ القرآن الكريم، مصمم خصيصاً للبيئة العربية مع دعم كامل للغة العربية والتخطيط من اليمين إلى اليسار (RTL).

---

## ✨ المميزات الرئيسية

### 🔐 نظام المصادقة

- ✅ تسجيل الدخول عبر OTP (رمز لمرة واحدة) على رقم الهاتف
- ✅ تكامل مع Firebase Authentication
- ✅ نظام Super Admin (رقم +972542632557)
- ✅ إدارة متعددة المستويات للصلاحيات

### 👥 أربعة أدوار رئيسية

#### 1️⃣ **الإدارة (Admin)**

- إدارة كاملة لجميع المستخدمين (إضافة، تعديل، حذف)
- إدارة المربين والطلاب والمساعدين
- عرض التقارير والإحصائيات الشاملة
- تصدير البيانات (PDF/Excel)
- إدارة الحلقات والدروس
- نظام Super Admin لإدارة المدراء الآخرين

#### 2️⃣ **المربي (Teacher)**

- إدارة طلاب الحلقة الخاصة به فقط
- تسجيل الحضور والغياب
- كتابة الملاحظات والتقييمات
- إرسال ملاحظات وتقييمات للمساعدين في نفس الحلقة
- عرض تقارير الطلاب في حلقته
- إدارة الدروس والمحتوى

#### 3️⃣ **الطالب (Student)**

- عرض المعلومات الشخصية (للقراءة فقط)
- عرض سجل الحضور والغياب
- عرض الملاحظات من المربي
- عرض التقييمات والدرجات
- شريط سلوك ملون (من الأحمر إلى الأخضر)
- عرض اسم المربي ومعلومات الحلقة

#### 4️⃣ **المساعد (Assistant)** 🆕

- مرتبط بحلقة معينة
- عرض الملاحظات والتقييمات من المربين (للقراءة فقط)
- يستطيع المربي في نفس الحلقة فقط إرسال ملاحظات وتقييمات
- عرض متوسط التقييمات
- إشعارات بالملاحظات الجديدة

---

## 🗄️ قاعدة البيانات

### الجداول (10 جداول)

1. **users** - المستخدمون الأساسيون
   - الأدوار: admin, teacher, student, assistant
   - معلومات الاتصال والمصادقة

2. **teachers** - بيانات المربين
   - اسم الحلقة
   - التخصص
   - ربط بجدول المستخدمين

3. **students** - بيانات الطلاب
   - المربي المسؤول
   - الصف/المستوى
   - تاريخ التسجيل

4. **assistants** - بيانات المساعدين 🆕
   - اسم الحلقة (للربط مع المربي)
   - ربط بجدول المستخدمين

5. **attendance** - سجل الحضور
   - حالة الحضور (حاضر، غائب، معذور)
   - الملاحظات
   - التاريخ

6. **lessons** - الدروس
   - العنوان والوصف
   - المربي المسؤول
   - التاريخ

7. **evaluations** - التقييمات
   - الدرجة (من 100)
   - نوع التقييم (تسميع، اختبار، شفهي)
   - الملاحظات

8. **assistantNotes** - ملاحظات المساعدين 🆕
   - من المربي إلى المساعد
   - التقييم (من 1 إلى 5 نجوم)
   - حالة القراءة

9. **notifications** - الإشعارات
   - للمستخدمين
   - أنواع مختلفة (معلومة، تحذير، نجاح، خطأ)

10. **otpCodes** - رموز OTP
    - للمصادقة عبر الهاتف
    - تاريخ الانتهاء

---

## 🛠️ التقنيات المستخدمة

### Frontend

- ⚛️ **React 18** مع TypeScript
- 🎨 **Tailwind CSS** للتصميم
- 🎭 **Shadcn/ui** للمكونات الجاهزة
- 🔄 **Wouter** للتوجيه (Routing)
- 📱 **PWA** - يعمل كتطبيق موبايل

### Backend

- 🚀 **tRPC** - Type-safe API
- 🗃️ **Better-SQLite3** - قاعدة بيانات
- 🔥 **Firebase** - المصادقة
- 📦 **Drizzle ORM** - إدارة قاعدة البيانات

### Build Tools

- ⚡ **Vite** - أداة البناء السريعة
- 📦 **pnpm** - مدير الحزم

---

## 📱 دعم الموبايل (PWA)

### ✅ ميزات PWA المفعّلة

1. **التثبيت على الهاتف**
   - يعمل مثل التطبيق العادي
   - أيقونة على الشاشة الرئيسية
   - شاشة بداية (Splash Screen)

2. **العمل بدون إنترنت**
   - Service Worker للتخزين المؤقت
   - تحميل أسرع

3. **تجربة مستخدم أصلية**
   - وضع ملء الشاشة
   - شريط حالة ملون
   - دعم كامل للإيماءات

4. **الإشعارات**
   - إشعارات Push (جاهزة للتفعيل)
   - إشعارات داخل التطبيق

### 📲 كيفية التثبيت

#### على الأندرويد:

1. افتح الموقع في Chrome
2. اضغط على القائمة (⋮)
3. اختر "إضافة إلى الشاشة الرئيسية"

#### على الآيفون:

1. افتح الموقع في Safari
2. اضغط على زر المشاركة
3. اختر "إضافة إلى الشاشة الرئيسية"

---

## 🎨 التصميم

### الألوان الرئيسية

- 🟢 **أخضر زمردي** (#059669) - اللون الأساسي
- 🔵 **أزرق فيروزي** (#0d9488) - اللون الثانوي
- 🟡 **ذهبي** (#f59e0b) - للتقييمات والنجوم
- ⚪ **أبيض** - الخلفية
- ⚫ **رمادي داكن** - النصوص

### الخطوط

- دعم كامل للخطوط العربية
- تخطيط RTL في جميع الصفحات

---

## 🔒 الأمان

- ✅ مصادقة قوية عبر Firebase
- ✅ فحص الصلاحيات على مستوى API
- ✅ حماية من CSRF
- ✅ تشفير الاتصالات (HTTPS)
- ✅ عزل البيانات بين الحلقات

---

## 📊 الإحصائيات والتقارير

### للإدارة

- إجمالي المستخدمين (مدراء، مربين، طلاب، مساعدين)
- إحصائيات الحضور والغياب
- تقارير الأداء
- تصدير البيانات

### للمربي

- عدد الطلاب في الحلقة
- نسب الحضور
- متوسط التقييمات
- المساعدين في الحلقة

### للطالب

- سجل الحضور الشخصي
- التقييمات والدرجات
- ملاحظات المربي

### للمساعد

- عدد الملاحظات
- متوسط التقييم
- الملاحظات غير المقروءة

---

## 🚀 التشغيل

### متطلبات التشغيل

- Node.js 18+
- pnpm
- قاعدة بيانات SQLite

### الأوامر

```bash
# تثبيت الحزم
pnpm install

# تشغيل التطوير
pnpm dev

# بناء للإنتاج
pnpm build

# تحديث قاعدة البيانات
pnpm db:push
```

---

## 👥 المستخدمون الافتراضيون

### Super Admin

- **الهاتف:** +972542632557
- **الصلاحيات:** كاملة + إدارة المدراء

### Admin

- **الهاتف:** +972506381455
- **الصلاحيات:** إدارة عادية

---

## 📝 الملاحظات المهمة

1. ✅ **نظام المساعد** تم إضافته بالكامل
2. ✅ **PWA** جاهز للعمل على الموبايل
3. ✅ **قاعدة البيانات** محدّثة بجميع الجداول
4. ✅ **API** كامل مع جميع العمليات CRUD
5. ⏳ **باقي المهام:**
   - إنشاء AddLessonModal
   - إنشاء AddEvaluationModal
   - إنشاء Edit Modals لجميع الكيانات
   - إضافة شريط السلوك الملون للطلاب
   - إضافة تصدير التقارير (PDF/Excel)

---

## 🔗 الروابط

- **رابط التطبيق:** https://3002-ilt6rwf2vexeffau4zx3i-f9e1dcd7.manus.computer
- **المستودع:** /home/ubuntu/welcome-site

---

## 📞 الدعم

للمساعدة أو الاستفسارات، يرجى التواصل مع فريق التطوير.

---

**تم التطوير بواسطة Manus AI** 🤖
**آخر تحديث:** 20 أكتوبر 2025
